(this["webpackJsonpwork-time-slot"]=this["webpackJsonpwork-time-slot"]||[]).push([[0],{32:function(t,e,a){},33:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var s=a(0),r=a(9),n=a.n(r),o=(a(32),a(33),a(8)),i=a(3),l=a(13),c=a(14),m=a(18),d=a(17),h=a(1),u=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t,e=localStorage.getItem("timeSlotData");e&&(e=JSON.parse(e),t=e.map((function(t,e){return t.slotId})),localStorage.setItem("occupiedSlots",JSON.stringify(t)));var a=[{slotId:1,time:"9 am - 10 am"},{slotId:2,time:"10 am - 11 am"},{slotId:3,time:"11 am - 12 pm"},{slotId:4,time:"12 pm - 1 pm"},{slotId:5,time:"1 pm - 2 pm"},{slotId:6,time:"2 pm - 3 pm"},{slotId:7,time:"3 pm - 4 pm"},{slotId:8,time:"4 pm - 5 pm"},{slotId:9,time:"5 pm - 6 pm"}].map((function(e){return Object(h.jsx)("div",{className:"post card "+(t&&t.includes(JSON.stringify(e.slotId))?"red":""),children:Object(h.jsx)("div",{className:"card-content",children:Object(h.jsx)(o.b,{to:"/"+e.slotId,children:Object(h.jsx)("span",{className:"card-title black-text",children:e.time})})})},e.slotId)}));return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"container home",children:a})})}}]),a}(s.Component),p=Object(i.f)((function(t){return Object(h.jsx)("div",{className:"navbar-fixed",children:Object(h.jsx)("nav",{className:"teal",children:Object(h.jsx)("div",{className:"nav-wrapper",children:Object(h.jsx)(o.b,{to:"/work-time-slot",className:"brand-logo center",children:"TimeSlot"})})})})})),b=a(25),j=a(16),f=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this)).state={firstName:"",lastName:"",phoneNumber:"",errors:{},touched:{firstName:"",lastName:"",phoneNumber:""}},s.handleValidation=function(){var t=s.state,e=t.firstName,a=t.lastName,r=t.phoneNumber,n={},o=!0;return e||(o=!1,n.firstName="Cannot be empty!"),e&&"undefined"!==typeof e&&(e.match(/^[a-zA-Z]+$/)||(o=!1,n.firstName="Firstname should have only letters without space.")),a||(o=!1,n.lastName="Cannot be empty!"),a&&"undefined"!==typeof a&&(a.match(/^[a-zA-Z]+$/)||(o=!1,n.lastName="Lastname should have only letters without space.")),r||(o=!1,n.phoneNumber="Cannot be empty!"),r&&"undefined"!==typeof r&&(r.match(/^[0-9]{10}$/)||(o=!1,n.phoneNumber="Enter valid mobile number.")),s.setState({errors:n}),o},s.handlechange=function(t){s.setState(Object(b.a)({},t.target.id,t.target.value)),s.handleValidation()},s.handleBlur=function(t){var e=s.state.touched;t.target.id&&1!=e[t.target.id]&&(e[t.target.id]=!0,s.setState({touched:e})),s.handleValidation()},s.handlesubmit=function(t){if(t.preventDefault(),s.handleValidation()){var e={firstName:s.state.firstName,lastName:s.state.lastName,phoneNumber:s.state.phoneNumber,slotId:s.props.slotId};s.forUpdate?s.props.updateTimeSlot(e):s.props.addTimeSlot(e),s.setState({firstName:"",lastName:"",phoneNumber:""}),s.props.history.push("/work-time-slot")}else console.error("error")},s.redirectHome=function(t){t.preventDefault(),s.props.history.push("/work-time-slot")},s.forUpdate=!1,s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t,e=this,a=localStorage.getItem("occupiedSlots");if(a&&(a=JSON.parse(a)).includes(this.props.slotId)){this.forUpdate=!0;var s=localStorage.getItem("timeSlotData");t=(s=JSON.parse(s)).filter((function(t,a){return t.slotId===e.props.slotId})),this.setState({firstName:t[0].firstName,lastName:t[0].lastName,phoneNumber:t[0].phoneNumber})}}},{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{id:"addSlotForm",onSubmit:this.handlesubmit,className:"container form-add",autoComplete:"off",children:[Object(h.jsx)("legend",{children:Object(h.jsx)("h4",{children:"Fill the below details"})}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"firstName",value:this.state.firstName,onChange:this.handlechange,onBlur:this.handleBlur}),Object(h.jsx)("span",{className:"add-form-error",children:this.state.touched.firstName&&this.state.errors.firstName})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"lastName",value:this.state.lastName,onChange:this.handlechange,onBlur:this.handleBlur}),Object(h.jsx)("span",{className:"add-form-error",children:this.state.touched.lastName&&this.state.errors.lastName})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone Number"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"phoneNumber",value:this.state.phoneNumber,onChange:this.handlechange,onBlur:this.handleBlur}),Object(h.jsx)("span",{className:"add-form-error",children:this.state.touched.phoneNumber&&this.state.errors.phoneNumber})]})]}),Object(h.jsxs)("div",{className:"btn-block",children:[this.forUpdate?Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"}):Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:this.redirectHome,children:"Cancel"})]})]})})}}]),a}(s.Component),N=Object(j.b)((function(t,e){return{slotId:e.match.params.slotId}}),(function(t){return{addTimeSlot:function(e){return t(function(t){return{type:"ADD_TIMESLOT",data:t}}(e))},updateTimeSlot:function(e){return t(function(t){return{type:"UPDATE_TIMESLOT",data:t}}(e))}}}))(f),O=a(12);a(44);var x=function(){return Object(h.jsxs)(o.a,{children:[Object(h.jsx)(O.a,{}),Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{}),Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{exact:!0,path:"/work-time-slot",component:u}),Object(h.jsx)(i.a,{path:"/:slotId",component:N})]})]})]})},v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(e){var a=e.getCLS,s=e.getFID,r=e.getFCP,n=e.getLCP,o=e.getTTFB;a(t),s(t),r(t),n(t),o(t)}))},S=a(15),g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=localStorage.getItem("timeSlotData");return a=JSON.parse(a),"ADD_TIMESLOT"==e.type&&(a&&"object"==typeof a?(a.push(e.data),localStorage.setItem("timeSlotData",JSON.stringify(a))):localStorage.setItem("timeSlotData",JSON.stringify([e.data])),O.b.success("Added a task in timeslot")),"UPDATE_TIMESLOT"==e.type&&(a&&(a.forEach((function(t,s){t.slotId===e.data.slotId&&(a[s].firstName=e.data.firstName,a[s].lastName=e.data.lastName,a[s].phoneNumber=e.data.phoneNumber)})),localStorage.setItem("timeSlotData",JSON.stringify(a))),O.b.success("Updated a task in timeslot")),t},I=Object(S.b)(g);n.a.render(Object(h.jsx)(j.a,{store:I,children:Object(h.jsx)(x,{})}),document.getElementById("root")),v()}},[[45,1,2]]]);
//# sourceMappingURL=main.27893c56.chunk.js.map